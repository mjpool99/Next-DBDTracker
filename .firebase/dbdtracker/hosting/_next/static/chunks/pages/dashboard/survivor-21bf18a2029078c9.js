(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{9074:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/survivor",function(){return l(1575)}])},1824:function(e,t){"use strict";t.Z={src:"/_next/static/media/LogoBeta.a87dedff.svg",height:56,width:244}},2243:function(e,t,l){"use strict";l.d(t,{I8:function(){return c},db:function(){return d}});var a=l(3977);l(3059);var r=l(9828),s=l(7004),n=l(1259);let i=(0,a.ZF)({apiKey:"AIzaSyB-rwxK-0S-GG0bVLffPa01caPfRv6VQnk",authDomain:"dbdtracker.firebaseapp.com",projectId:"dbdtracker",storageBucket:"dbdtracker.appspot.com",messagingSenderId:"167066146805",appId:"1:167066146805:web:1dbc2d32e58165859bb2bc",measurementId:"G-TR7R7E24R8"}),d=(0,r.ad)(i),c=(0,n.v0)(i);(0,s.$C)(i),(0,n.w7)(c)},6106:function(e,t,l){"use strict";l.d(t,{Lv:function(){return r},Lx:function(){return a},UQ:function(){return s}});let a=["Azarov's Resting Place","Badham Preschool I","Badham Preschool II","Badham Preschool III","Badham Preschool IV","Badham Preschool V","Badham Preschools","Blood Lodge","Coal Tower","Dead Dawg Saloon","Disturbed Ward","Eyrie of Crows","Family Residence","Father Campbell's Chapel","Fractured Cowshed","Garden of Joy","Gas Heaven","Grim Pantry","Groaning Storehouse","Ironworks of Misery","Lampkin Lane","Midwich Elementary School","Mother's Dwelling","Mount Ormond Resort","Raccoon City Police Station","Raccoon City Police Station East Wing","Raccoon City Police Station West Wing","Rancid Abattoir","Rotten Fields","Sanctum of Wrath","Shelter Woods","Suffocation Pit","The Game","The Pale Rose","The Shattered Square","The Temple of Purgation","The Thompson House","The Underground Complex","Torment Creek","Treatment Theatre","Wrecker's Yard","Wretched Shop"],r=["Artist","Blight","Cannibal","Cenobite","Clown","Demo","Doctor","Dredge","Freddy Krueger","Ghost Face","Gunslinger","Hag","Hillbilly","Huntress","Knight","Legion","Myers","Nemesis","Nurse","Oni","Onryo","Pig","Plague","Pyramid Head","Spirit","Trapper","Trickster","Twins","Wesker","Wraith"],s=["Ace Visconti","Ada Wong","Adam Francis","Ashley J. Williams","Cheryl Mason","Claudette Morel","David King","Detective David Tapp","Dwight Fairfield","Elodie Rakoto","Felix Richter","Feng Min","Haddie Kaur","Jake Park","Jane Romero","Jeffrey 'Jeff' Johansen","Jill Valentine","Jonah Vasquez","Kate Denson","Laurie Strode","Leon Scott Kennedy","Meg Thomas","Mikaela Reid","Nancy Wheeler","Nea Karlsson","Quentin Smith","Rebecca Chambers","Steve Harrington","Vittorio Toscano","William 'Bill' Overbeck","Yoichi Asakawa","Yui Kimura","Yun-Jin Lee","Zarina Kassir"]},6267:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(){return(0,a.jsx)("div",{children:(0,a.jsx)("h1",{style:{textAlign:"center"},children:"Loading..."})})}l(7294)},1128:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return o}});var a=l(5893),r=l(1824),s=l(1664),n=l.n(s),i=l(5675),d=l.n(i),c=l(3299);function o(e){let t=null==e?void 0:e.currentUser,l=async()=>{try{let e=[await (0,c.signOut)({callbackUrl:"/auth/signin"})];return e}catch(e){console.log(e)}};return(0,a.jsx)("nav",{children:(0,a.jsxs)("div",{className:"nav-container",children:[(0,a.jsx)(d(),{priority:!0,src:r.Z,alt:"Logo"}),(0,a.jsxs)("div",{className:"nav-links",children:[(0,a.jsx)(n(),{className:"nav-link",href:"/dashboard",children:"Dashboard"}),(0,a.jsx)(n(),{className:"nav-link",href:"/dashboard/survivor",children:"Survivor Tracker"}),(0,a.jsx)(n(),{className:"nav-link",href:"/dashboard/killer",children:"Killer Tracker"}),(0,a.jsxs)("div",{className:"dropdown",children:["Welcome, ",(0,a.jsx)("a",{className:"dropdown-toggle profile-btn",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),(0,a.jsx)("ul",{className:"dropdown-menu dropdown-menu-dark",children:(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"dropdown-item sign-out",href:"",onClick:l,children:"Sign Out"})})})]})]})]})})}},3045:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return n}});var a=l(5893),r=l(7294),s=l(7365);function n(e){var t,l;let n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data,i=null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.user,[d,c]=(0,r.useState)("");return(0,a.jsxs)("div",{className:"myCustomCard-table",children:[(0,a.jsx)("div",{className:"d-flex w-100 justify-content-start",children:(0,a.jsx)("h1",{children:"All Matches"})}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"allMatches-th"}),(0,a.jsx)("th",{className:"allMatches-th",children:"Map"}),(0,a.jsx)("th",{className:"allMatches-th",children:"Killer"}),(0,a.jsx)("th",{className:"allMatches-th",children:"Survivor"}),(0,a.jsx)("th",{className:"allMatches-th",children:"Match Result"}),(0,a.jsx)("th",{className:"allMatches-th",children:"Match Date"})]})}),(0,a.jsxs)("tbody",{children:[(null==n?void 0:n.length)===0&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,children:"You haven't played any matches yet."})}),(null==n?void 0:n.length)>0&&Object.keys(n).map((e,t)=>{var l,r,s,i,d,o,u,h,m;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"delete",children:(0,a.jsx)("button",{id:null===(l=n[t])||void 0===l?void 0:l.id,onClick:()=>{var e;c(null===(e=n[t])||void 0===e?void 0:e.id)},"data-bs-toggle":"modal","data-bs-target":"#DeleteForm",children:(0,a.jsx)("i",{className:"bi bi-trash-fill"})})})}),(0,a.jsx)("td",{children:null===(r=n[t])||void 0===r?void 0:r.map}),(0,a.jsx)("td",{children:null===(s=n[t])||void 0===s?void 0:s.killer}),(null===(i=n[t])||void 0===i?void 0:i.survivor)&&(0,a.jsx)("td",{children:null===(d=n[t])||void 0===d?void 0:d.survivor}),(0,a.jsx)("td",{children:null===(o=n[t])||void 0===o?void 0:o.matchResult}),(null===(u=n[t])||void 0===u?void 0:u.numberOfKills)&&(0,a.jsx)("td",{children:null===(h=n[t])||void 0===h?void 0:h.numberOfKills}),(0,a.jsx)("td",{suppressHydrationWarning:!0,children:new Date(null===(m=n[t])||void 0===m?void 0:m.createdAt).toLocaleString()})]},e)})]})]}),(0,a.jsx)(s.default,{data:{user:i,matchId:d}})]})}},7365:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return i}});var a=l(5893);l(7294);var r=l(2243),s=l(9828),n=l(9332);function i(e){var t,l;let i=(0,n.useRouter)(),d=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.matchId,c=null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.user,o=async()=>{try{await (0,s.oe)((0,s.JU)(r.db,"UserMatches/".concat(c,"/SurvivorMatches/").concat(d)))}catch(e){console.log(e)}i.refresh()};return(0,a.jsx)("div",{className:"modal fade",id:"DeleteForm",tabIndex:"-1","aria-labelledby":"DeleteForm","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog",children:(0,a.jsx)("div",{className:"modal-content",children:(0,a.jsxs)("div",{className:"match-card",children:[(0,a.jsx)("h1",{children:"Are you sure?"}),(0,a.jsxs)("div",{className:"d-flex w-100",style:{flexDirection:"row-reverse",margin:"30px 10px 0 10px"},children:[(0,a.jsx)("button",{id:d,className:"myCustomCard-button red w-100 ms-1","data-bs-dismiss":"modal",onClick:o,children:"Delete"}),(0,a.jsx)("button",{className:"myCustomCard-button w-100 ms-1","data-bs-dismiss":"modal",children:"No"})]})]})})})})}},8838:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(e){let t=null==e?void 0:e.data;return(0,a.jsx)("div",{children:(0,a.jsxs)("table",{className:"myCustomCard-total",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"text-center single-title",children:"Matches Played"})})}),(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"single-record text-center",children:t})})})]})})}l(7294)},9213:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(e){let t=null==e?void 0:e.data;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"myCustomCard-table",children:[(0,a.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,a.jsx)("h1",{children:"Most Recent Match"}),(0,a.jsx)("button",{type:"button",className:"myCustomCard-button","data-bs-toggle":"modal","data-bs-target":"#SurvivorForm",children:"Create New Survivor"})]}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Map"}),(0,a.jsx)("th",{children:"Killer"}),(0,a.jsx)("th",{children:"Survivor"}),(0,a.jsx)("th",{children:"Match Result"}),(0,a.jsx)("th",{children:"Match Date"})]})}),(0,a.jsxs)("tbody",{children:[t&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t.map}),(0,a.jsx)("td",{children:t.killer}),(0,a.jsx)("td",{children:t.survivor}),(0,a.jsx)("td",{children:t.matchResult}),(0,a.jsx)("td",{suppressHydrationWarning:!0,children:new Date(t.createdAt).toLocaleString()})]}),!t&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,children:"No recent matches to display."})})]})]})]})})}l(7294)},6728:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(e){let t;let l=(null==e?void 0:e.data)||{killer:"name"},r=[];Object.keys(l).map((e,t)=>{var a;return r.push(null===(a=l[t])||void 0===a?void 0:a.killer)});let s={},n=[];return r.forEach(e=>{s[e]=(s[e]||0)+1}),t=(n=Object.keys(s).reduce((e,t,l)=>!l||s[t]>s[e[0]]?[t]:(s[t]===s[e[0]]&&e.push(t),e),[])).length>1?n[0]:n,(0,a.jsx)("div",{children:(0,a.jsxs)("table",{className:"myCustomCard-total",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"text-center single-title",children:"Top Killer Faced"})})}),0==l.length&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:1,children:"You haven't played any matches yet."})})}),l.length>0&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{className:"single-record-name text-center",children:[t,": ",l.filter(e=>e.killer==t).length]})})})]})})}l(7294)},1821:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(e){let t;let l=(null==e?void 0:e.data)||{map:"name"},r=[];Object.keys(l).map((e,t)=>{var a;return r.push(null===(a=l[t])||void 0===a?void 0:a.map)});let s={},n=[];return r.forEach(e=>{s[e]=(s[e]||0)+1}),t=(n=Object.keys(s).reduce((e,t,l)=>!l||s[t]>s[e[0]]?[t]:(s[t]===s[e[0]]&&e.push(t),e),[])).length>1?n[0]:n,(0,a.jsx)("div",{children:(0,a.jsxs)("table",{className:"myCustomCard-total",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"text-center single-title",children:"Top Map Played"})})}),0==l.length&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:1,children:"You haven't played any matches yet."})})}),l.length>0&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{className:"single-record-name text-center",children:[t,": ",l.filter(e=>(null==e?void 0:e.map)==t).length]})})})]})})}l(7294)},4514:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(5893);function r(e){let t;let l=(null==e?void 0:e.data)||{survivor:"name"},r=[];Object.keys(l).map((e,t)=>{var a;return r.push(null===(a=l[t])||void 0===a?void 0:a.survivor)});let s={},n=[];return r.forEach(e=>{s[e]=(s[e]||0)+1}),t=(n=Object.keys(s).reduce((e,t,l)=>!l||s[t]>s[e[0]]?[t]:(s[t]===s[e[0]]&&e.push(t),e),[])).length>1?n[0]:n,(0,a.jsx)("div",{children:(0,a.jsxs)("table",{className:"myCustomCard-total",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"text-center single-title",children:"Top Survivor Played"})})}),0==l.length&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:1,children:"You haven't played any matches yet."})})}),l.length>0&&(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{className:"single-record-name text-center",children:[t,": ",l.filter(e=>(null==e?void 0:e.survivor)==t).length]})})})]})})}l(7294)},8407:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return d}});var a=l(5893),r=l(7294),s=l(6106),n=l(8433),i=l(9332);function d(e){let t=(0,i.useRouter)(),l=null==e?void 0:e.data,[d,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(!1),h=(0,r.useRef)(),m=(0,r.useRef)(),v=(0,r.useRef)(),x=(0,r.useRef)(),j=async(e,a,r,s)=>{c(""),e=h.current.value,a=m.current.value,r=v.current.value,s=x.current.value;try{u(!0),await (0,n.Z)({url:"https://us-central1-dbdtracker.cloudfunctions.net/uploadSurvivorMatches",method:"POST",headers:{"Content-Type":"application/json"},data:{user:l,map:e,killer:a,survivor:r,matchResult:s}}),c("Survivor Match successfully uploaded!"),t.refresh(),console.log("Done")}catch(e){c("Upload failed. Please try again later.")}h.current.value="",m.current.value="",v.current.value="",x.current.value="",u(!1)};return(0,a.jsx)("div",{className:"modal fade",id:"SurvivorForm",tabIndex:"-1","aria-labelledby":"SurvivorForm","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog",children:(0,a.jsx)("div",{className:"modal-content",children:(0,a.jsx)("div",{className:"match-results",children:(0,a.jsxs)("div",{className:"match-card",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{c("")},className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",style:{color:"#ffffff",position:"absolute",top:"10px",right:"10px",fontSize:"2rem"},children:(0,a.jsx)("i",{className:"bi bi-x-lg"})}),(0,a.jsx)("h1",{children:"Upload Survivor Match"}),(0,a.jsxs)("div",{className:"form",children:[d&&(0,a.jsx)("span",{className:"message",children:d}),(0,a.jsx)("label",{htmlFor:"map",className:"text-light",children:"Map Played:"}),(0,a.jsxs)("select",{name:"map",ref:h,className:"form-select form-select-lg mb-3",required:!0,children:[(0,a.jsx)("option",{value:"",defaultChecked:!0,children:"Select a Map"}),s.Lx.map((e,t)=>(0,a.jsx)("option",{value:s.Lx[t],children:s.Lx[t]},e))]}),(0,a.jsx)("label",{htmlFor:"killer",className:"text-light",children:"Killer Faced:"}),(0,a.jsxs)("select",{name:"killer",ref:m,className:"form-select form-select-lg mb-3",required:!0,children:[(0,a.jsx)("option",{value:"",defaultChecked:!0,children:"Select a Killer"}),s.Lv.map((e,t)=>(0,a.jsx)("option",{value:s.Lv[t],children:s.Lv[t]},e))]}),(0,a.jsx)("label",{htmlFor:"survivor",className:"text-light",children:"Survivor Played:"}),(0,a.jsxs)("select",{name:"survivor",ref:v,className:"form-select form-select-lg mb-3",required:!0,children:[(0,a.jsx)("option",{value:"",defaultChecked:!0,children:"Select a Survivor"}),s.UQ.map((e,t)=>(0,a.jsx)("option",{value:s.UQ[t],children:s.UQ[t]},e))]}),(0,a.jsx)("label",{htmlFor:"matchResult",className:"text-light",children:"Match Result:"}),(0,a.jsxs)("select",{name:"matchResult",ref:x,className:"form-select form-select-lg mb-3",required:!0,children:[(0,a.jsx)("option",{value:"",defaultChecked:!0,children:"Select a Match Result"}),(0,a.jsx)("option",{children:"Killer Disconnected"}),(0,a.jsx)("option",{children:"Dead"}),(0,a.jsx)("option",{children:"Sacrificed"}),(0,a.jsx)("option",{children:"Escaped"})]}),(0,a.jsx)("div",{className:"d-flex w-100 justify-content-space-between align-items-center",children:(0,a.jsx)("button",{disabled:o,onClick:j,className:"myCustomCard-button w-100",children:"Submit"})})]})]})})})})})}},2519:function(e,t,l){"use strict";l.r(t);var a=l(5893),r=l(1128),s=l(7294),n=l(6267);t.default=function(e){var t;let{children:l,...i}=e,d={...i};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"dashboard",children:[(0,a.jsx)(r.default,{currentUser:null==d?void 0:null===(t=d.data)||void 0===t?void 0:t.displayName}),(0,a.jsx)("div",{className:"main",children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(n.default,{}),children:l})})]})})}},1575:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return h},default:function(){return m}});var a=l(5893),r=l(3045),s=l(9213),n=l(8838),i=l(4514),d=l(6728),c=l(1821),o=l(8407),u=l(2519),h=!0;function m(e){var t,l;let{userData:h}=e,m=null==h?void 0:h.matches,v=null==h?void 0:null===(t=h.user)||void 0===t?void 0:t.displayName,x=null==h?void 0:null===(l=h.user)||void 0===l?void 0:l.uid;return(0,a.jsx)(u.default,{data:{displayName:v},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-center flex-column",children:[(0,a.jsx)(s.default,{data:m[0]}),(0,a.jsxs)("div",{className:"d-flex flex-row flex-wrap w-100 justify-content-between",children:[(0,a.jsx)(n.default,{data:(null==m?void 0:m.length)||0}),(0,a.jsx)(i.default,{data:m}),(0,a.jsx)(d.default,{data:m}),(0,a.jsx)(c.default,{data:m})]}),(0,a.jsx)(r.default,{data:{data:m,user:x}})]}),(0,a.jsx)(o.default,{data:x})]})})}}},function(e){e.O(0,[16,278,675,664,623,147,774,888,179],function(){return e(e.s=9074)}),_N_E=e.O()}]);